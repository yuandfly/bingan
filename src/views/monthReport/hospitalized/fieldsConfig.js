
const computed = {
    tjz2041(values) {

    }
};

export const FIELDS = [
    { name: 'tjz2001', label: '期末实有病床数' },
    { name: 'tjz2002', label: '原有人数' },
    { name: 'tjz2003', label: '入院人数' },
    { name: 'tjz2004', label: '他科转入人数' },
    { name: 'tjz2005', label: '出院人数' },
    { name: 'tjz2006', label: '出院病人数' },
    { name: 'tjz2007', label: '其中：治愈人数', indent: 1, },
    { name: 'tjz2008', label: '好转人数', indent: 4},
    { name: 'tjz2009', label: '未愈人数', indent: 4 },
    { name: 'tjz2010', label: '死亡人数', indent: 4 },
    { name: 'tjz2011', label: '正常分娩人数', indent: 4 },
    { name: 'tjz2012', label: '计划生育人数', indent: 4 },
    { name: 'tjz2013', label: '其他非病人数', indent: 4 },
    { name: 'tjz2014', label: '转往他科人数', indent: 4 },
    { name: 'tjz2015', label: '留院人数' },
    { name: 'tjz2016', label: '实际开放总床日数' },
    { name: 'tjz2017', label: '平均开放床位数' },
    { name: 'tjz2018', label: '实际占用总床日数' },
    { name: 'tjz2019', label: '出院者占用总床日数' },
    { name: 'tjz2020', label: '陪护人日数' },
    { name: 'tjz2021', label: '参加门诊诊断符合人数' },
    { name: 'tjz2022', label: '门诊与出院诊断符合数' },
    { name: 'tjz2023', label: '门诊诊断未明人数' },
    { name: 'tjz2024', label: '参加入院诊断符合人数' },
    { name: 'tjz2025', label: '入院与出院诊断符合数' },
    { name: 'tjz2026', label: '入院诊断未明人数' },
    { name: 'tjz2027', label: '出院诊断未明人数' },
    { name: 'tjz2028', label: '入院三日确诊人数' },
    { name: 'tjz2029', label: '住院手术例（次）数合计' },
    { name: 'tjz2030', label: '其中：无菌手术小计(Ⅰ类切口)', indent: 1 },
    { name: 'tjz2031', label: '甲级愈合例数' },
    { name: 'tjz2032', label: '乙级愈合例数' },
    { name: 'tjz2033', label: '丙级愈合例数(化脓数)' },
    { name: 'tjz2034', label: '住院手术人数' },
    { name: 'tjz2035', label: '其中：术前后符合人数', indent: 1 },
    { name: 'tjz2036', label: '术前待查(疑诊)人数', indent: 4 },
    { name: 'tjz2037', label: '手术后十日内死亡人数' },
    { name: 'tjz2038', label: '手术并发症发生数' },
    { name: 'tjz2039', label: '危重病人抢救人数' },
    { name: 'tjz2040', label: '危重抢救成功人数' },
    { name: 'tjz2041', label: '治愈率％', type: 'string' },
    { name: 'tjz2042', label: '好转率％', type: 'string' },
    { name: 'tjz2043', label: '未愈率％', type: 'string' },
    { name: 'tjz2044', label: '病死率％', type: 'string' },
    { name: 'tjz2045', label: '陪伴率％', type: 'string' },
    { name: 'tjz2046', label: '门诊与出院诊断符合率％', type: 'string' },
    { name: 'tjz2047', label: '入院与出院诊断符合率％', type: 'string' },
    { name: 'tjz2048', label: '门诊疑诊率％', type: 'string' },
    { name: 'tjz2049', label: '入院疑诊率％', type: 'string' },
    { name: 'tjz2050', label: '入院三日确诊率％', type: 'string' },
    { name: 'tjz2051', label: '无菌手术甲级愈合率％', type: 'string' },
    { name: 'tjz2052', label: '无菌手术切口感染率％', type: 'string' },
    { name: 'tjz2053', label: '手术前后诊断符合率％', type: 'string' },
    { name: 'tjz2054', label: '手术后十日内死亡率％', type: 'string' },
    { name: 'tjz2055', label: '手术并发症发生率％', type: 'string' },
    { name: 'tjz2056', label: '平均病床工作日（天）' },
    { name: 'tjz2057', label: '病床使用率％', type: 'string' },
    { name: 'tjz2058', label: '病床周转次数' },
    { name: 'tjz2059', label: '出院者平均住院日' },
    { name: 'tjz2060', label: '危重病人抢救成功率％', type: 'string' },
    { name: 'tjz2061', label: '病房中医治疗数' },
    { name: 'tjz2062', label: '病房中西医治疗数' },
    { name: 'tjz2063', label: '病房中医治疗率％', type: 'string' },
    { name: 'tjz2064', label: '病房中医参与率％', type: 'string' },
    { name: 'tjz2065', label: '24小时内死亡人数' },
    { name: 'tjz2066', label: '危重病人抢救次数' },
    { name: 'tjz2067', label: '抢救成功人次数' },
    { name: 'tjz2068', label: '本日手术人数' },
    { name: 'tjz2069', label: '中西医治疗率%', type: 'string' },
    { name: 'tjz2070', label: '西医治疗率%', type: 'string' },
    { name: 'tjz2071', label: '治疗有效率%', type: 'string' },
    { name: 'tjz2072', label: '输液反应发生次数' },
    { name: 'tjz2073', label: '输液人次数' },
    { name: 'tjz2074', label: '输血反应发生次数' },
    { name: 'tjz2075', label: '输血人次数' },
    { name: 'tjz2076', label: '褥疮发生率%', type: 'string' },
    { name: 'tjz2077', label: '术前住院总天数' },
    { name: 'tjz2078', label: '医院感染人次数' },
    { name: 'tjz2079', label: '一级护理人数' },
    { name: 'tjz2080', label: '住院总费用' },
    { name: 'tjz2081', label: '药品占总费用百分比', type: 'string' },
    { name: 'tjz2082', label: '总药费' },
    { name: 'tjz2083', label: '住院病理检查人数' },
    { name: 'tjz2084', label: '临床与病理诊断符合人数' },
    { name: 'tjz2085', label: '麻醉人次数' },
    { name: 'tjz2086', label: '麻醉死亡人数' },
    { name: 'tjz2087', label: '手术前后诊断符合人次数' },
    { name: 'tjz2088', label: '手术前后诊断不符合人次数' },
    { name: 'tjz2089', label: '医嘱离院人数' },
    { name: 'tjz2090', label: '医嘱转院人数' },
    { name: 'tjz2091', label: '医嘱转社区人数' },
    { name: 'tjz2092', label: '非医嘱离院人数' },
    { name: 'tjz2093', label: '其他离院方式人数' },
    { name: 'tjz2094', label: '中医治疗人数' },
    { name: 'tjz2095', label: '中西医治疗人数' },
    { name: 'tjz2096', label: '西医治疗人数' },
    { name: 'tjz2097', label: '实施中医临床路径人数' },
    { name: 'tjz2098', label: '使用医疗机构中药制剂人数' },
    { name: 'tjz2099', label: '使用中医诊疗设备人数' },
    { name: 'tjz2100', label: '使用中医诊疗技术人数' },
    { name: 'tjz2101', label: '辨证施护人数' },
    { name: 'tjz2102', label: '使用中医特色护理技术' },
    { name: 'tjz2103', label: '使用中药饮片' },
    { name: 'tjz2104', label: '非药物中医治疗' },
    { name: 'tjz2105', label: '0类切口数' },
    { name: 'tjz2106', label: 'Ⅰ类切口/其他愈合数' },
    { name: 'tjz2107', label: 'Ⅱ类切口数' },
    { name: 'tjz2108', label: 'Ⅱ类切口/甲级愈合数' },
    { name: 'tjz2109', label: 'Ⅱ类切口/乙级愈合数' },
    { name: 'tjz2110', label: 'Ⅱ类切口/丙级愈合数' },
    { name: 'tjz2111', label: 'Ⅱ类切口/其他愈合数' },
    { name: 'tjz2112', label: 'Ⅲ类切口数' },
    { name: 'tjz2113', label: 'Ⅲ类切口/甲级愈合数' },
    { name: 'tjz2114', label: 'Ⅲ类切口/乙级愈合数' },
    { name: 'tjz2115', label: 'Ⅲ类切口/丙级愈合数' },
    { name: 'tjz2116', label: 'Ⅲ类切口/其他愈合数' },
    { name: 'tjz2117', label: '入院病情_有' },
    { name: 'tjz2118', label: '入院病情_临床未确定' },
    { name: 'tjz2119', label: '入院病情_情况不明' },
    { name: 'tjz2120', label: '入院病情_无' },
    { name: 'tjz2121', label: '入院途径_门诊' },
    { name: 'tjz2122', label: '入院途径_急诊' },
    { name: 'tjz2123', label: '入院途径_其他医疗机构转入' },
    { name: 'tjz2124', label: '手术级别_一级手术例数' },
    { name: 'tjz2125', label: '手术级别_二级手术例数' },
    { name: 'tjz2126', label: '手术级别_三级手术例数' },
    { name: 'tjz2127', label: '手术级别_四级手术例数' },
    { name: 'tjz2128', label: '病历分型_A' },
    { name: 'tjz2129', label: '病历分型_B' },
    { name: 'tjz2130', label: '病历分型_C' },
    { name: 'tjz2131', label: '病历分型_D' },
    { name: 'tjz2132', label: '抗生素使用_是' },
    { name: 'tjz2133', label: '抗生素使用_否' },
    { name: 'tjz2134', label: '实施临床路径管理_未进入' },
    { name: 'tjz2135', label: '实施临床路径管理_变异退出' },
    { name: 'tjz2136', label: '实施临床路径管理_完成' },
    { name: 'tjz2137', label: '细菌培养标本送检_是' },
    { name: 'tjz2138', label: '细菌培养标本送检_否' },
    { name: 'tjz2139', label: '法定传染源_甲类' },
    { name: 'tjz2140', label: '法定传染源_乙类' },
    { name: 'tjz2141', label: '法定传染源_丙类' },
    { name: 'tjz2142', label: '实施DRGs管理_无' },
    { name: 'tjz2143', label: '实施DRGs管理_按病种' },
    { name: 'tjz2144', label: '实施DRGs管理_按费用' },
    { name: 'tjz2145', label: '实施DRGs管理_两者都有' },
    { name: 'tjz2146', label: '单病种管理_是' },
    { name: 'tjz2147', label: '单病种管理_否' },
    { name: 'tjz2148', label: '肿瘤分期_T ０期' },
    { name: 'tjz2149', label: '肿瘤分期_T Ⅰ期' },
    { name: 'tjz2150', label: '肿瘤分期_T Ⅱ期' },
    { name: 'tjz2151', label: '肿瘤分期_T Ⅲ期' },
    { name: 'tjz2152', label: '肿瘤分期_T Ⅳ期' },
    { name: 'tjz2153', label: '肿瘤分期_T 分期不详' },
    { name: 'tjz2154', label: '肿瘤分期_N ０期' },
    { name: 'tjz2155', label: '肿瘤分期_N Ⅰ期' },
    { name: 'tjz2156', label: '肿瘤分期_N Ⅱ期' },
    { name: 'tjz2157', label: '肿瘤分期_N Ⅲ期' },
    { name: 'tjz2158', label: '肿瘤分期_N Ⅳ期' },
    { name: 'tjz2159', label: '肿瘤分期_N 分期不详' },
    { name: 'tjz2160', label: '肿瘤分期_M ０期' },
    { name: 'tjz2161', label: '肿瘤分期_M Ⅰ期' },
    { name: 'tjz2162', label: '肿瘤分期_M Ⅱ期' },
    { name: 'tjz2163', label: '肿瘤分期_M Ⅲ期' },
    { name: 'tjz2164', label: '肿瘤分期_M Ⅳ期' },
    { name: 'tjz2165', label: '肿瘤分期_M 分期不详' },
    { name: 'tjz2166', label: '日间手术人数' },
    { name: 'tjz2167', label: '择期手术人数' },
    { name: 'tjz2168', label: '微创手术人数' },
    { name: 'tjz2169', label: '手术患者并发症人数' },
    { name: 'tjz2170', label: '手术患者并发症发生率', type: 'string' }
];

// 计算得到一页应该放几列
function getColumns(containerWidth, oneColumnWidth) {
    // parseInt(总宽度 / 一列宽度) 得到可容纳的列数
    let columns = parseInt(containerWidth / oneColumnWidth);
    // 使用了element的row、col布局，列数必须是24的因数
    const ableValues = [1, 2, 3, 4, 6, 8, 12, 24];
    // 所以如果得到的列数不在此列，则需要找到距离最近的24的因素
    if (ableValues.indexOf(columns) < 0) {
        let index = undefined;
        let diff = undefined;
        ableValues.forEach((item, i) => {
            // 相减取绝对值，diff最小的就是距离最近的
            const itemDiff = Math.abs(item - columns);
            if (diff === undefined || itemDiff < diff) {
                diff = itemDiff;
                index = i
            }
        });
        return ableValues[index]
    }
    return columns;
}

// 根据窗口高度计算分页信息
export const calcPages = function () {
    const clientHeight = document.body.clientHeight;
    const clientWidth = document.body.clientWidth;
    // 放置这些输入项的面板高度，给了最低300
    const containerHeight = (clientHeight - 310) > 300 ?  (clientHeight - 310) : 300;
    // 放置这些输入项的面板宽度，给了最低1000
    const containerWidth = (clientWidth - 60) > 1000 ? (clientWidth - 60) : 1000;
    // 一页几列
    const columns = getColumns(containerWidth, 330);
    // 每一项的高度（高度+margin-bottom）3
    const itemHeight = 34;
    // 一列多少项
    const numsInOneColumn = parseInt(containerHeight / itemHeight);
    // 一页多少项
    const numsInOnePage = numsInOneColumn * columns;
    // 可以分几页
    const pageNum = Math.ceil(FIELDS.length / numsInOnePage);
    console.log({clientHeight, clientWidth, containerHeight, containerWidth, pageNum, numsInOneColumn, numsInOnePage, columns});
    return {pageNum, numsInOneColumn, numsInOnePage, columns};
};
